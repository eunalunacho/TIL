---
title: "[프로그래머스] : 즐겨찾기가 가장 많은 식당 정보 출력하기"
date: 2026-01-26 09:32:00 +0900  
categories: [SQL]                
tags: [TIL, ORACLE, MYSQL, 프로그래머스, 코딩테스트]       
permalink: /20260126_sql1/          
--- 

### 문제 링크

[문제 바로가기](https://school.programmers.co.kr/learn/courses/30/lessons/131123)



### 내 풀이
MYSQL
```sql
SELECT FOOD_TYPE, REST_ID, REST_NAME, FAVORITES
FROM ( 
    SELECT *, 
        ROW_NUMBER() OVER (PARTITION BY FOOD_TYPE ORDER BY FAVORITES DESC) AS RNK
    FROM REST_INFO
    ) SUB 
WHERE RNK = 1
ORDER BY FOOD_TYPE DESC;
```

<br>

### 다른 풀이
```sql
SELECT FOOD_TYPE, REST_ID, REST_NAME, FAVORITES
FROM ( 
    SELECT FOOD_TYPE, REST_ID, REST_NAME, FAVORITES,
        ROW_NUMBER() OVER (PARTITION BY FOOD_TYPE ORDER BY FAVORITES DESC) AS RNK
    FROM REST_INFO
) SUB 
WHERE RNK = 1
ORDER BY FOOD_TYPE DESC;
```

<br>

### 기록

- REST_INFO 테이블에 적절한 인덱스가 없다면, DB는 모든 행을 다 읽어서 메모리에 올린 뒤 정렬함
- sub query에서 <SELECT *> 를 썼기 때문에, 불필요한 컬럼까지 메모리에 올려서 정렬 속도가 느려짐 
- 복합 index를 걸어서 O(N log N)에서 O(N) 혹은 그 이하로 줄일 수 있음
